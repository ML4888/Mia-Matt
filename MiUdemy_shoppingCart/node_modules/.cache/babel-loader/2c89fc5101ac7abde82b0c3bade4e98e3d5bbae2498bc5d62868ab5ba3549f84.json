{"ast":null,"code":"var _jsxFileName = \"/Users/mialam/Documents/Skills Bootcamp - software Dev/FinalProject/Mia-Matt/MiUdemy_shoppingCart/src/QuantityBtn.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { CartContext } from \"./CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function QuantityBtn({\n  productInfo\n}) {\n  _s();\n  const {\n    cartItems,\n    setCartItems\n  } = useContext(CartContext);\n\n  //EMPTY IN SHOPPING CART\n  let productIndexInCart = cartItems.findIndex(element => {\n    return element.id === productInfo.id;\n  });\n  //findIndex()\n  //if youn can find the product in the cart , then go back to the index position: 0, 1, 2, 3.....\n  //if not success to add the product in the car , the index is -1\n\n  let [numInCart, setNumInCart] = useState(productIndexInCart === -1 ? 0 : cartItems[productIndexInCart].quantity);\n  const handleAdd = () => {\n    if (productIndexInCart === -1) {\n      //shopping cart is empty, add element into the cartItems array  (object)\n      setCartItems([{\n        id: productInfo.id,\n        name: productInfo.name,\n        image: productInfo.image,\n        price: productInfo.price,\n        description: productInfo.description,\n        quantity: 1\n      }, ...cartItems]);\n    } else {\n      //check the shopping cart has the product，add +1 in quantity\n      let newCartArray = [...cartItems];\n      newCartArray[productIndexInCart].quantity++;\n      setCartItems(newCartArray);\n    }\n    setNumInCart(numInCart + 1);\n  };\n  const handleSubtract = () => {\n    if (cartItems[productIndexInCart].quantity === 1) {\n      //if only one product in the cart, remove object\n      let newCartArray = [...cartItems];\n      newCartArray.splice(productIndexInCart, 1);\n      setCartItems(newCartArray);\n    } else {\n      //just deduct the quantity\n      let newCartArray = [...cartItems];\n      newCartArray[productIndexInCart].quantity--;\n      setCartItems(newCartArray);\n    }\n    setNumInCart(numInCart - 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addToCart\",\n    children: numInCart === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"addToCartBtn\",\n      onClick: handleAdd,\n      children: \"ADD INTO CART \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"subtractBtn\",\n        onClick: handleSubtract,\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), numInCart, \" Quantity\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"addBtn\",\n        onClick: handleAdd,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n_s(QuantityBtn, \"qD9PTG40tThPbJkz81Gj+j4IUVU=\");\n_c = QuantityBtn;\nvar _c;\n$RefreshReg$(_c, \"QuantityBtn\");","map":{"version":3,"names":["useContext","useState","CartContext","jsxDEV","_jsxDEV","QuantityBtn","productInfo","_s","cartItems","setCartItems","productIndexInCart","findIndex","element","id","numInCart","setNumInCart","quantity","handleAdd","name","image","price","description","newCartArray","handleSubtract","splice","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mialam/Documents/Skills Bootcamp - software Dev/FinalProject/Mia-Matt/MiUdemy_shoppingCart/src/QuantityBtn.js"],"sourcesContent":["import { useContext, useState } from \"react\"\nimport { CartContext } from \"./CartContext\"\n\nexport default function QuantityBtn({productInfo}) {\n\n    const {cartItems, setCartItems} = useContext(CartContext)\n\n    //EMPTY IN SHOPPING CART\n    let productIndexInCart = cartItems.findIndex((element)=>{\n        return element.id === productInfo.id\n    })\n    //findIndex()\n    //if youn can find the product in the cart , then go back to the index position: 0, 1, 2, 3.....\n    //if not success to add the product in the car , the index is -1\n\n    let [numInCart,setNumInCart] = useState(\n        (productIndexInCart===-1) ? 0 : cartItems[productIndexInCart].quantity\n    )\n\n    const handleAdd = ()=>{\n\n        if(productIndexInCart===-1)\n        {\n            //shopping cart is empty, add element into the cartItems array  (object)\n            setCartItems(\n                [{\n                    id : productInfo.id,\n                    name:productInfo.name,\n                    image:productInfo.image,\n                    price:productInfo.price,\n                    description:productInfo.description,\n                    quantity:1\n                },\n                ...cartItems]\n            )\n        }\n        else\n        {\n            //check the shopping cart has the product，add +1 in quantity\n            let newCartArray = [...cartItems]\n            newCartArray[productIndexInCart].quantity++\n            setCartItems(newCartArray)\n        }\n\n        setNumInCart(numInCart+1)\n    }\n\n    const handleSubtract = ()=>{\n\n        if(cartItems[productIndexInCart].quantity===1)\n        {\n            //if only one product in the cart, remove object\n            let newCartArray = [...cartItems]\n            newCartArray.splice(productIndexInCart,1)\n            setCartItems(newCartArray)\n        }\n        else\n        {\n            //just deduct the quantity\n            let newCartArray = [...cartItems]\n            newCartArray[productIndexInCart].quantity--\n            setCartItems(newCartArray)\n        }\n\n        setNumInCart(numInCart-1)\n    }\n\n    return (\n        <div className=\"addToCart\">\n            {\n                (numInCart === 0) ?\n                <span className=\"addToCartBtn\" onClick={handleAdd}>ADD INTO CART </span> :\n                <div>\n                    <span className=\"subtractBtn\" onClick={handleSubtract}>-</span>\n                    {numInCart} Quantity \n                    <span className=\"addBtn\" onClick={handleAdd}>+</span>\n                </div>\n            }\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}