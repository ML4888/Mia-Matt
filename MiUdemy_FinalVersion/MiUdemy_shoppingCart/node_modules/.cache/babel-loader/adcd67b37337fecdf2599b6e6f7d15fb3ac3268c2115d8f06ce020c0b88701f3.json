{"ast":null,"code":"var _jsxFileName = \"/Users/mialam/Documents/Skills Bootcamp - software Dev/FinalProject/Mia-Matt/MiUdemy_shoppingCart/src/TodayDeals/TodayDealsQuantityBtn.js\",\n  _s = $RefreshSig$();\nimport { useContext, useState } from \"react\";\nimport { TodayDealsCartContext } from \"./TodayDealsCartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function QuantityBtn({\n  productInfo\n}) {\n  _s();\n  const {\n    todayDealsCartItems,\n    setTodayDealsCartItems\n  } = useContext(TodayDealsCartContext);\n\n  //EMPTY IN SHOPPING CART\n  let productIndexInCart = todayDealsCartItems.findIndex(element => {\n    return element.id === productInfo.id;\n  });\n  //findIndex()\n  //if youn can find the product in the cart , then go back to the index position: 0, 1, 2, 3.....\n  //if not success to add the product in the car , the index is -1\n\n  let [numInCart, setNumInCart] = useState(productIndexInCart === -1 ? 0 : todayDealsCartItems[productIndexInCart].quantity);\n  const handleAdd = () => {\n    if (productIndexInCart === -1) {\n      //shopping cart is empty, add element into the cartItems array  (object)\n      setTodayDealsCartItems([{\n        id: productInfo.id,\n        name: productInfo.name,\n        image: productInfo.image,\n        price: productInfo.price,\n        description: productInfo.description,\n        quantity: 1\n      }, ...todayDealsCartItems]);\n    } else {\n      //check the shopping cart has the product，add +1 in quantity\n      let newCartArray = [...todayDealsCartItems];\n      newCartArray[productIndexInCart].quantity++;\n      setTodayDealsCartItems(newCartArray);\n    }\n    setNumInCart(numInCart + 1);\n  };\n  const handleSubtract = () => {\n    if (todayDealsCartItems[productIndexInCart].quantity === 1) {\n      //if only one product in the cart, remove object\n      let newCartArray = [...todayDealsCartItems];\n      newCartArray.splice(productIndexInCart, 1);\n      setTodayDealsCartItems(newCartArray);\n    } else {\n      //just deduct the quantity\n      let newCartArray = [...todayDealsCartItems];\n      newCartArray[productIndexInCart].quantity--;\n      setCartItems(newCartArray);\n    }\n    setNumInCart(numInCart - 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"addToCart\",\n    children: numInCart === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"addToCartBtn\",\n      onClick: handleAdd,\n      children: \"ADD INTO CART \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"subtractBtn\",\n        onClick: handleSubtract,\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this), numInCart, \" Quantity\", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"addBtn\",\n        onClick: handleAdd,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n_s(QuantityBtn, \"d6dNpIC40jPtQvdbmf5D2lH/sHE=\");\n_c = QuantityBtn;\nvar _c;\n$RefreshReg$(_c, \"QuantityBtn\");","map":{"version":3,"names":["useContext","useState","TodayDealsCartContext","jsxDEV","_jsxDEV","QuantityBtn","productInfo","_s","todayDealsCartItems","setTodayDealsCartItems","productIndexInCart","findIndex","element","id","numInCart","setNumInCart","quantity","handleAdd","name","image","price","description","newCartArray","handleSubtract","splice","setCartItems","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/mialam/Documents/Skills Bootcamp - software Dev/FinalProject/Mia-Matt/MiUdemy_shoppingCart/src/TodayDeals/TodayDealsQuantityBtn.js"],"sourcesContent":["import { useContext, useState } from \"react\"\nimport { TodayDealsCartContext } from \"./TodayDealsCartContext\"\n\nexport default function QuantityBtn({productInfo}) {\n\n    const {todayDealsCartItems, setTodayDealsCartItems} = useContext(TodayDealsCartContext)\n\n    //EMPTY IN SHOPPING CART\n    let productIndexInCart = todayDealsCartItems.findIndex((element)=>{\n        return element.id === productInfo.id\n    })\n    //findIndex()\n    //if youn can find the product in the cart , then go back to the index position: 0, 1, 2, 3.....\n    //if not success to add the product in the car , the index is -1\n\n    let [numInCart,setNumInCart] = useState(\n        (productIndexInCart===-1) ? 0 : todayDealsCartItems[productIndexInCart].quantity\n    )\n\n    const handleAdd = ()=>{\n\n        if(productIndexInCart===-1)\n        {\n            //shopping cart is empty, add element into the cartItems array  (object)\n            setTodayDealsCartItems(\n                [{\n                    id : productInfo.id,\n                    name:productInfo.name,\n                    image:productInfo.image,\n                    price:productInfo.price,\n                    description:productInfo.description,\n                    quantity:1\n                },\n                ...todayDealsCartItems]\n            )\n        }\n        else\n        {\n            //check the shopping cart has the product，add +1 in quantity\n            let newCartArray = [...todayDealsCartItems]\n            newCartArray[productIndexInCart].quantity++\n            setTodayDealsCartItems(newCartArray)\n        }\n\n        setNumInCart(numInCart+1)\n    }\n\n    const handleSubtract = ()=>{\n\n        if(todayDealsCartItems[productIndexInCart].quantity===1)\n        {\n            //if only one product in the cart, remove object\n            let newCartArray = [...todayDealsCartItems]\n            newCartArray.splice(productIndexInCart,1)\n            setTodayDealsCartItems(newCartArray)\n        }\n        else\n        {\n            //just deduct the quantity\n            let newCartArray = [...todayDealsCartItems]\n            newCartArray[productIndexInCart].quantity--\n            setCartItems(newCartArray)\n        }\n\n        setNumInCart(numInCart-1)\n    }\n\n    return (\n        <div className=\"addToCart\">\n            {\n                (numInCart === 0) ?\n                <span className=\"addToCartBtn\" onClick={handleAdd}>ADD INTO CART </span> :\n                <div>\n                    <span className=\"subtractBtn\" onClick={handleSubtract}>-</span>\n                    {numInCart} Quantity \n                    <span className=\"addBtn\" onClick={handleAdd}>+</span>\n                </div>\n            }\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}